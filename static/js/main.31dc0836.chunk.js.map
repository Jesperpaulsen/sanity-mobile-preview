{"version":3,"sources":["../../src/components/BuildDevice.tsx","../../src/devices.ts","../../src/components/Dropdown.tsx","../../src/components/Menu.tsx","../../src/components/MobileDevicePreview.tsx","App.tsx","index.tsx"],"names":["BuildDevice","selectedDevice","selectedColor","landscape","children","color","colors","rootDeviceClass","mobileStyle","className","renderer","mobileDeviceStyleNodes","createElement","style","key","devices","type","readableName","note8","iphone8","iphone8plus","iphone5s","ipad","nexus5","Dropdown","selectedItem","availableItems","updateSelectedItem","useState","dropdown","setDropdown","dropdownStyles","width","onFocus","onClick","item","index","capitalizeString","stringToCapitalize","res","Menu","allowedDevices","updateSelectedDevice","setColor","device","setDevice","availableColors","setAvailableColors","readableDevices","tempDevice","readableColors","display","justifyItems","deviceType","preSelectedDevice","preSelectedColor","showMenu","setSelectedDevice","setSelectedColor","useEffect","setPreselectedDevice","checkPreSelectedDeviceAndAllowedDevices","setPreselectedColorForDevice","possibleDevices","console","flexDirection","justifyContent","alignItems","minHeight","React","App","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.31dc0836.chunk.js","sourcesContent":["import React, { createElement, DetailedReactHTMLElement } from 'react'\nimport mobileStyle from '../devices.min.css'\nimport {\n  MobileDevice,\n  MobileDeviceColors,\n  MobileDeviceStyleNode\n} from '../types'\n\ninterface IProps {\n  selectedDevice: MobileDevice\n  selectedColor: MobileDeviceColors\n  landscape: boolean\n  children: any\n}\n\nexport const BuildDevice: React.FC<IProps> = ({\n  selectedDevice,\n  selectedColor,\n  landscape,\n  children\n}: IProps) => {\n  const colors = selectedDevice.colors\n  const hasColor = colors.includes(selectedColor)\n  const color = hasColor ? selectedColor : 'black'\n\n  let rootDeviceClass = `${mobileStyle['marvel-device']}  ${\n    mobileStyle[selectedDevice.type]\n  } ${mobileStyle[color]}`\n\n  if (landscape) rootDeviceClass += ' ' + mobileStyle[rootDeviceClass]\n\n  return (\n    <div className={rootDeviceClass}>\n      {renderer(selectedDevice.style, children)}\n    </div>\n  )\n}\n\nfunction renderer(\n  mobileDeviceStyleNodes: MobileDeviceStyleNode[],\n  children?: React.FC\n): DetailedReactHTMLElement<any, any>[] {\n  return mobileDeviceStyleNodes.map((style) => {\n    return createElement(\n      'div',\n      {\n        className: mobileStyle[style.className as string],\n        key: style.className as string\n      },\n      style.className === 'screen'\n        ? children\n        : style.children && renderer(style.children, children)\n    )\n  })\n}\n","import { MobileDevice } from './types'\n\nexport const devices: { [id: string]: MobileDevice } = {\n  'iphone-x': {\n    type: 'iphone-x',\n    readableName: 'iPhone X',\n    colors: ['black'],\n    style: [\n      {\n        className: 'notch',\n        children: [{ className: 'camera' }, { className: 'speaker' }]\n      },\n      { className: 'top-bar' },\n      { className: 'sleep' },\n      { className: 'bottom-bar' },\n      { className: 'volume' },\n      {\n        className: 'overflow',\n        children: [\n          { className: ['shadow', 'shadow--tr'] },\n          { className: ['shadow', 'shadow--tl'] },\n          { className: ['shadow', 'shadow--br'] },\n          { className: ['shadow', 'shadow--bl'] }\n        ]\n      },\n      { className: 'inner-shadow' },\n      { className: 'screen' }\n    ]\n  },\n  note8: {\n    type: 'note8',\n    readableName: 'Note 8',\n    colors: ['black'],\n    style: [\n      { className: 'inner' },\n      { className: 'overflow', children: [{ className: 'shadow' }] },\n      { className: 'speaker' },\n      { className: 'sensors' },\n      { className: 'more-sensors' },\n      { className: 'sleep' },\n      { className: 'volume' },\n      { className: 'camera' },\n      { className: 'screen' }\n    ]\n  },\n  iphone8: {\n    type: 'iphone8',\n    readableName: 'iPhone 8',\n    colors: ['black', 'silver', 'gold'],\n    style: [\n      { className: 'top-bar' },\n      { className: 'sleep' },\n      { className: 'volume' },\n      { className: 'camera' },\n      { className: 'sensor' },\n      { className: 'speaker' },\n      { className: 'screen' },\n      { className: 'home' },\n      { className: 'bottom-bar' }\n    ]\n  },\n  iphone8plus: {\n    type: 'iphone8plus',\n    readableName: 'iPhone 8 plus',\n    colors: ['black', 'silver', 'gold'],\n    style: [\n      { className: 'top-bar' },\n      { className: 'sleep' },\n      { className: 'volume' },\n      { className: 'camera' },\n      { className: 'sensor' },\n      { className: 'speaker' },\n      { className: 'screen' },\n      { className: 'home' },\n      { className: 'bottom-bar' }\n    ]\n  },\n  iphone5s: {\n    type: 'iphone5s',\n    readableName: 'iPhone 5s',\n    colors: ['black', 'silver', 'gold'],\n    style: [\n      { className: 'top-bar' },\n      { className: 'sleep' },\n      { className: 'volume' },\n      { className: 'camera' },\n      { className: 'sensor' },\n      { className: 'speaker' },\n      { className: 'screen' },\n      { className: 'home' },\n      { className: 'bottom-bar' }\n    ]\n  },\n  ipad: {\n    type: 'ipad',\n    readableName: 'iPad mini',\n    colors: ['black', 'silver'],\n    style: [\n      { className: 'camera' },\n      { className: 'screen' },\n      { className: 'home' },\n      { className: 'bottom-bar' }\n    ]\n  },\n  nexus5: {\n    type: 'nexus5',\n    readableName: 'Nexus 5',\n    colors: ['black'],\n    style: [\n      { className: 'top-bar' },\n      { className: 'sleep' },\n      { className: 'volume' },\n      { className: 'camera' },\n      { className: 'screen' }\n    ]\n  }\n}\n","import React, { useState } from 'react'\nimport dropdownStyles from './Dropdown.css'\n\nexport interface IDropdown {\n  selectedItem: string\n  availableItems: { type: string; readableName: string }[]\n  updateSelectedItem: (selectedElement: string) => void\n}\n\nexport const Dropdown: React.FC<IDropdown> = ({\n  selectedItem,\n  availableItems,\n  updateSelectedItem\n}: IDropdown) => {\n  const [dropdown, setDropdown] = useState(false)\n\n  return (\n    <div className={dropdownStyles.dropdown} style={{ width: '200px' }} onFocus={() => setDropdown(false)}>\n      <div\n        className={dropdownStyles.button}\n        onClick={() => setDropdown(!dropdown)}\n      >\n        {selectedItem}\n      </div>\n\n      {dropdown ? (\n        <ul>\n          {availableItems.map((item, index) => {\n            return (\n              <li\n                onClick={() => {\n                  updateSelectedItem(item.type)\n                  setDropdown(!dropdown)\n                }}\n                key={item.type + index}\n              >\n                {item.readableName}\n              </li>\n            )\n          })}\n        </ul>\n      ) : null}\n    </div>\n  )\n}\n","import React, { useState } from 'react'\nimport { devices } from '../devices'\nimport { MobileDevice, MobileDeviceColors, MobileDevices } from '../types'\nimport { Dropdown } from './Dropdown'\n\ninterface IMenuProps {\n  selectedDevice: MobileDevice\n  allowedDevices?: MobileDevices[]\n  selectedColor: MobileDeviceColors\n  updateSelectedDevice: (\n    device: MobileDevice,\n    color: MobileDeviceColors\n  ) => void\n}\n\nconst capitalizeString = (stringToCapitalize: string) => {\n  let res = ''\n  if (stringToCapitalize.length > 0)\n    res += stringToCapitalize.charAt(0).toUpperCase()\n  if (stringToCapitalize.length > 1) res += stringToCapitalize.slice(1)\n  return res\n}\n\nexport const Menu: React.FC<IMenuProps> = ({\n  selectedDevice,\n  allowedDevices,\n  updateSelectedDevice,\n  selectedColor\n}: IMenuProps) => {\n  const [color, setColor] = useState(selectedColor)\n  const [device, setDevice] = useState(selectedDevice)\n  const [availableColors, setAvailableColors] = useState(selectedDevice.colors)\n\n  const updateColor = (color: MobileDeviceColors) => {\n    setColor(color)\n    updateSelectedDevice(device, color)\n  }\n\n  const updateDevice = (deviceType: MobileDevices) => {\n    const device = devices[deviceType]\n    setDevice(device)\n    setAvailableColors(device.colors)\n    if (!device.colors.includes(color)) setColor('black')\n    updateSelectedDevice(device, color)\n  }\n\n  const allDevices: MobileDevices[] = [\n    'iphone-x',\n    'note8',\n    'iphone8',\n    'iphone8plus',\n    'iphone5s',\n    'ipad',\n    'nexus5'\n  ]\n\n  const readableDevices = (allowedDevices || allDevices).map((device) => {\n    const tempDevice = devices[device]\n    return {\n      type: tempDevice.type,\n      readableName: tempDevice.readableName\n    }\n  })\n\n  const readableColors = availableColors.map((color) => {\n    return {\n      type: color,\n      readableName: capitalizeString(color)\n    }\n  })\n\n  return (\n    <div style={{ display: 'flex', justifyItems: 'center' }}>\n      <Dropdown\n        selectedItem={device.readableName}\n        availableItems={readableDevices}\n        updateSelectedItem={updateDevice}\n      />\n      {availableColors && (\n        <Dropdown\n          selectedItem={capitalizeString(color)}\n          availableItems={readableColors}\n          updateSelectedItem={updateColor}\n        />\n      )}\n    </div>\n  )\n}\n","import React, { useEffect, useState } from 'react'\nimport { MobileDevice, MobileDeviceColors, MobileDevices } from '../types'\nimport { BuildDevice } from './BuildDevice'\nimport { Menu } from './Menu'\nimport { devices } from '../devices'\n\nexport interface IMobileDeviceProps {\n  allowedDevices?: MobileDevices[]\n  preSelectedDevice?: MobileDevices\n  preSelectedColor?: MobileDeviceColors\n  showMenu?: boolean\n  children?: any\n}\n\nexport const MobileDevicePreview: React.FC<IMobileDeviceProps> = ({\n  allowedDevices,\n  preSelectedDevice,\n  preSelectedColor = 'black',\n  showMenu = true,\n  children\n}: IMobileDeviceProps) => {\n  const [selectedDevice, setSelectedDevice] = useState<MobileDevice>()\n  const [selectedColor, setSelectedColor] = useState<MobileDeviceColors>(\n    'black'\n  )\n\n  useEffect(() => {\n    setPreselectedDevice()\n  }, [])\n\n  const setPreselectedDevice = () => {\n    let device: MobileDevice\n    if (preSelectedDevice && allowedDevices && allowedDevices.length > 0) {\n      device = checkPreSelectedDeviceAndAllowedDevices(\n        preSelectedDevice,\n        allowedDevices\n      )\n    } else if (preSelectedDevice) {\n      device = devices[preSelectedDevice]\n    } else if (allowedDevices && allowedDevices.length > 0) {\n      device = devices[allowedDevices[0]]\n    } else {\n      device = devices['iphone-x']\n    }\n    setPreselectedColorForDevice(device)\n    setSelectedDevice(device || devices['iphone-x'])\n  }\n\n  const checkPreSelectedDeviceAndAllowedDevices = (\n    device: MobileDevices,\n    possibleDevices: MobileDevices[]\n  ) => {\n    if (device && possibleDevices.includes(device)) {\n      return devices[device]\n    } else {\n      console.error(\n        'The preselected device was not included in the allowedDevices. Defaulting to the first allowed device'\n      )\n      return devices[possibleDevices[0]]\n    }\n  }\n\n  const setPreselectedColorForDevice = (device: MobileDevice) => {\n    if (device.colors.includes(preSelectedColor)) {\n      setSelectedColor(preSelectedColor)\n    } else {\n      console.error(\n        `Color ${preSelectedColor} can't be chosen for device ${device.readableName}`\n      )\n      setSelectedColor('black')\n    }\n  }\n\n  const updateSelectedDevice = (\n    updatedDevice: MobileDevice,\n    updatedColor: MobileDeviceColors\n  ) => {\n    setSelectedDevice(updatedDevice)\n    setSelectedColor(updatedColor)\n  }\n\n  return selectedDevice ? (\n    <div\n      style={{\n        display: 'flex',\n        flexDirection: 'column',\n        justifyContent: 'center',\n        alignItems: 'center',\n        minHeight: '200px'\n      }}\n    >\n      {showMenu && (\n        <Menu\n          selectedDevice={selectedDevice}\n          selectedColor={selectedColor}\n          allowedDevices={allowedDevices}\n          updateSelectedDevice={updateSelectedDevice}\n        />\n      )}\n      <BuildDevice\n        selectedDevice={selectedDevice}\n        selectedColor={selectedColor}\n        landscape={false}\n      >\n        {children}\n      </BuildDevice>\n    </div>\n  ) : (\n    <div>Something strange happened</div>\n  )\n}\n","import React from 'react'\n\nimport MobileDevicePreview from 'sanity-mobile-preview'\nimport 'sanity-mobile-preview/dist/index.css'\n\nconst App = () => {\n  return <MobileDevicePreview preSelectedDevice={\"ipad\"} preSelectedColor={\"silver\"} >\n    <div style={{ display: 'flex', justifyContent: 'center' }}> This is a demo 🤠</div>\n  </MobileDevicePreview>\n}\n\nexport default App\n","import './index.css'\n\nimport React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\n\nReactDOM.render(<App />, document.getElementById('root'))\n"],"sourceRoot":""}